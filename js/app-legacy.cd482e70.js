(function(){"use strict";var t={1510:function(t,e,a){a(6992),a(8674),a(9601),a(7727);var n=a(8935),r=a(6166),s=a.n(r),i=a(6762),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isLoadingPageShow?a("ModalPage"):t._e(),t._m(0),a("div",{staticClass:"container row mx-auto"},[a("main",{staticClass:"main"},[a("nav",{staticClass:"nav"},[a("div",{staticClass:"nav__selector"},[a("SelectItem",{attrs:{parentData:t.cityArr},on:{update:t.setCurCity}}),a("SelectItem",{attrs:{parentData:t.townArr},on:{update:t.setCurTown}})],1),a("div",{staticClass:"nav__mode"},[a("span",{staticClass:"nav__switchDesc"},[t._v("檢視模式 :")]),a("div",{staticClass:"nav__modeSwitch"},t._l(t.modeIcon,(function(e,n){return a("ModeBtn",{key:n,attrs:{"parent-icon":e,"parent-active":n===t.curMode,"parent-index":n},on:{update:t.setCurMode}})})),1)])]),0===t.curMode?a("ListComp",{attrs:{"parent-data":t.filterData[t.curPage]}}):1===t.curMode?a("TableComp",{attrs:{"parent-data":t.filterData[t.curPage],parentPage:t.curPage}}):a("CardComp",{attrs:{"parent-data":t.filterData[t.curPage]}}),a("PaginationComp",{attrs:{"parent-length":t.filterData.length,"parent-page":t.curPage},on:{update:t.setCurPage}})],1),t.isSideShow?a("SideBar",{attrs:{"parent-data":t.adData}}):t._e()],1),a("FooterComp")],1)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"hd"},[a("h1",{staticClass:"hd__title"},[t._v("農村地方美食小吃特色料理")])])}],l=a(4479),u=a(7906),p=a(6198),_=(a(7327),a(1539),a(1249),a(189),a(8783),a(3948),a(4747),a(561),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loadingPage"},[a("ModalContent")],1)}),d=[],f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("img",{attrs:{src:"/loading.gif",alt:"loading"}}),a("p",[t._v("資料下載中...請稍後!")])])}],m={name:"ModalContent"},v=m,g=a(3736),C=(0,g.Z)(v,f,h,!1,null,"35ed9115",null),D=C.exports,b={name:"ModalPage",components:{ModalContent:D}},y=b,T=(0,g.Z)(y,_,d,!1,null,"3a8d950b",null),w=T.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{staticClass:"nav__select",domProps:{value:t.parentData},on:{change:function(e){return t.selectToUpdate(e)}}},t._l(t.parentData,(function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)},P=[],k={name:"SelectItem",props:{parentData:{type:Array}},methods:{selectToUpdate:function(t){this.$emit("update",t.target.value)}}},L=k,S=(0,g.Z)(L,x,P,!1,null,"7bfb35ab",null),Z=S.exports,M=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container mx-auto"},[a("h3",{staticClass:"footer__title"},[t._v("CMoney 全曜財經資訊")]),a("p",{staticClass:"footer__desc"},[t._v(" 資料來源 : "),a("span",{staticClass:"footer__info"},[t._v("政府資料開放平台")])])])])}],E={name:"FooterComp"},I=E,A=(0,g.Z)(I,M,$,!1,null,"d00e8df4",null),O=A.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"sideBar"},[t._l(t.parentData,(function(e,n){return[n===t.parentData.length-1?a("ImgAd",{key:n,attrs:{"parent-data":e,"parent-last":!0}}):a("ImgAd",{key:n,attrs:{parentData:e}})]}))],2)},U=[],R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["file",{"file-sticky":t.parentLast}]},[a("img",{staticClass:"file__img",attrs:{src:t.pathStrMaker(t.parentData.url),alt:"google-pixel4"}})])},B=[],H={name:"ImgAd",props:{parentData:{type:Object},parentLast:{type:Boolean,default:!1}},methods:{pathStrMaker:function(t){return"./".concat(t)}}},N=H,F=(0,g.Z)(N,R,B,!1,null,"141fbe9e",null),W=F.exports,G={name:"SideBar",props:{parentData:{type:Array}},components:{ImgAd:W}},q=G,z=(0,g.Z)(q,j,U,!1,null,"04f0a8ac",null),J=z.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:["nav__switchBtn",{"nav__switchBtn--active ":t.parentActive}],on:{click:function(e){return t.clickSwitchMode()}}},[a("i",{class:t.parentIcon})])},Q=[],V=(a(9653),{name:"ModeBtn",props:{parentIcon:{type:String},parentActive:{type:Boolean,default:!1},parentIndex:{type:Number}},methods:{clickSwitchMode:function(){this.$emit("update",this.parentIndex)}}}),X=V,Y=(0,g.Z)(X,K,Q,!1,null,"3df2057e",null),tt=Y.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"pageList"},[a("p",{staticClass:"pageList__text"},[t._v(" 美食頁次 "),a("span",{staticClass:"pageList__number"},[t._v(" "+t._s(t.parentPage+1)+"/"+t._s(t.parentLength)+" ")])]),a("div",{staticClass:"pageList__content"},t._l(t.parentLength,(function(e,n){return a("button",{key:n,class:["pageList__btn",{"pageList__btn--active":n===t.parentPage}],attrs:{type:"button"},on:{click:function(e){return t.clickToUpdate(n)}}},[t._v(" "+t._s(e)+" ")])})),0)])},at=[],nt={name:"PaginationComp",props:{parentLength:{type:Number},parentPage:{type:Number}},methods:{clickToUpdate:function(t){this.$emit("update",parseInt(t,10))}}},rt=nt,st=(0,g.Z)(rt,et,at,!1,null,"53da475e",null),it=st.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},t._l(t.parentData,(function(t,e){return a("ListItem",{key:e,attrs:{parentData:t}})})),1)},ct=[],lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"res"},[a(t.setHtmlTag("a","div"),{tag:"component",class:t.setHtmlTag("res__link","res__content"),attrs:{href:t.setHtmlTag(t.parentData.Url,null),target:t.setHtmlTag(t.parentData.Url,null)}},[a("figure",{staticClass:"res__fig"},[a("img",{staticClass:"res__img",attrs:{src:t.parentData.PicURL,alt:t.parentData.Name,width:"400",height:"267"}})]),a("div",{staticClass:"res__text"},[a("h2",{staticClass:"res__title"},[t._v(t._s(t.parentData.Name))]),a("div",{staticClass:"res__info"},[a("p",{staticClass:"res__flag"},[t._v(t._s(t.parentData.City))]),a("p",{staticClass:"res__desc"},[t._v(t._s(t.parentData.Town))])]),a("p",{staticClass:"res__paragh"},[t._v(t._s(t.textLimit(t.parentData.FoodFeature)))])])])],1)},ut=[],pt={name:"ListItem",props:{parentData:{type:Object}},methods:{textLimit:function(t){var e="";return t.length>101?(e="".concat(t.substring(0,100),"..."),e):t},setHtmlTag:function(t,e){var a=""!==this.parentData.Url?t:e;return a}}},_t=pt,dt=(0,g.Z)(_t,lt,ut,!1,null,null,null),ft=dt.exports,ht={name:"ListComp",components:{ListItem:ft},props:{parentData:{type:Array}}},mt=ht,vt=(0,g.Z)(mt,ot,ct,!1,null,null,null),gt=vt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen grid"},t._l(t.parentData,(function(t,e){return a("CardItem",{key:e,attrs:{parentData:t}})})),1)},Dt=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"grid__item"},[a(t.setHtmlTag("a","div"),{tag:"component",class:t.setHtmlTag("cardRes__link","cardRes__content"),attrs:{href:t.setHtmlTag(t.parentData.Url,null),target:t.setHtmlTag(t.parentData.Url,null)}},[a("figure",{staticClass:"cardRes"},[a("img",{staticClass:"cardRes__img",attrs:{src:t.parentData.PicURL,alt:t.parentData.Name,width:"400",height:"267"}}),a("figcaption",{staticClass:"cardRes__text"},[a("div",{staticClass:"cardRes__info"},[a("p",{staticClass:"cardRes__flag"},[t._v(t._s(t.parentData.City))]),a("p",{staticClass:"cardRes__desc cardRes__desc--italic"},[t._v(" "+t._s(t.parentData.Town)+" ")])]),a("h2",{staticClass:"cardRes__title"},[t._v(t._s(t.parentData.Name))]),a("p",{staticClass:"cardRes__paragh"},[t._v(t._s(t.textLimit(t.parentData.FoodFeature)))])])])])],1)},yt=[],Tt={name:"CardItem",props:{parentData:{type:Object}},methods:{textLimit:function(t){var e="";return t.length>50?(e=t.substring(0,49),e):t},setHtmlTag:function(t,e){var a=""!==this.parentData.Url?t:e;return a}}},wt=Tt,xt=(0,g.Z)(wt,bt,yt,!1,null,null,null),Pt=xt.exports,kt={name:"CardComp",components:{CardItem:Pt},props:{parentData:{type:Array}}},Lt=kt,St=(0,g.Z)(Lt,Ct,Dt,!1,null,null,null),Zt=St.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},[a("div",{staticClass:"content"},[a("table",{staticClass:"resTable"},[t._m(0),a("tbody",{staticClass:"resTable__content"},t._l(t.parentData,(function(e,n){return a("tr",{key:e.ID,class:["resTable__row",{"resTable__row--stripe":n%2===0}]},[a("td",{staticClass:"resTable__td resTable__td--textRight resTable__td--textGrey"},[t._v(" "+t._s(10*t.parentPage+n+1)+" ")]),a("td",{staticClass:"resTable__td resTable__td--fixWidth resTable__td--textGrey"},[t._v(" "+t._s(e.City)+" ")]),a("td",{staticClass:"resTable__td resTable__td--minWidth resTable__td--textGrey"},[t._v(" "+t._s(e.Town)+" ")]),""!==e.Url?a("td",{staticClass:"resTable__td resTable__td--noWrap"},[a("a",{staticClass:"resTable__link",attrs:{href:e.Url,target:"_blank"}},[t._v(" "+t._s(e.Name)+" ")])]):a("td",{staticClass:"resTable__td resTable__td--noWrapt"},[t._v(" "+t._s(e.Name)+" ")]),a("td",{staticClass:"resTable__td resTable__td--text",attrs:{title:e.Address}},[t._v(" "+t._s(t.textLimit(e.Address))+" ")])])})),0)])])])},$t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"resTable__hd"},[a("tr",{staticClass:"resTable__title"},[a("th",{staticClass:"resTable__th"},[t._v("編號")]),a("th",{staticClass:"resTable__th"},[t._v("行政區域")]),a("th",{staticClass:"resTable__th"},[t._v("鄉鎮區")]),a("th",{staticClass:"resTable__th"},[t._v("商家")]),a("th",{staticClass:"resTable__th"},[t._v("地址")])])])}],Et={name:"TableComp",props:{parentData:{type:Array},parentPage:{type:Number}},methods:{textLimit:function(t){var e="";return t.length>20?(e="".concat(t.substring(0,19),"..."),e):t}}},It=Et,At=(0,g.Z)(It,Mt,$t,!1,null,"4c995b82",null),Ot=At.exports,jt={name:"App",components:{ModalPage:w,SelectItem:Z,FooterComp:O,SideBar:J,ModeBtn:tt,PaginationComp:it,ListComp:gt,CardComp:Zt,TableComp:Ot},data:function(){return{jsonData:[],adData:[{url:"adv1.png",alt:"google-pixel4"},{url:"adv2.png",alt:"飆股狙擊室"},{url:"adv3.png",alt:"森聯摩天41"}],currentCityData:"全部",currentTownData:"全部",curMode:0,curPage:0,isSideShow:!1,isLoadingPageShow:!0,showAmount:10,modeIcon:["fa-solid fa-list","fa-solid fa-align-justify","fa-solid fa-border-all"]}},created:function(){var t=this;return(0,p.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:t.isLoadingPageShow=!1;case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){window.innerWidth>414&&(this.isSideShow=!0)},computed:{filterData:function(){var t=this,e=[];return e="全部"!==this.currentCityData&&"全部"!==this.currentTownData?this.jsonData.filter((function(e){return e.City===t.currentCityData&&e.Town===t.currentTownData})):"全部"!==this.currentCityData?this.jsonData.filter((function(e){return e.City===t.currentCityData})):this.jsonData,this.paginatedData(e)},cityArr:function(){var t=[];return t=this.jsonData.map((function(t){return t.City})),t.unshift("全部"),(0,l.Z)(new Set(t))},townArr:function(){var t=this,e=[];return e=this.jsonData.filter((function(e){return e.City===t.currentCityData})).map((function(t){return t.Town})),e.unshift("全部"),(0,l.Z)(new Set(e))}},methods:{fetchData:function(){var t=this;return(0,p.Z)((0,u.Z)().mark((function e(){var a,n;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="https://data.coa.gov.tw/Service/OpenData/ODwsv/ODwsvTravelFood.aspx",e.prev=1,e.next=4,t.$http.get(a);case 4:n=e.sent,t.jsonData=n.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},paginatedData:function(t){var e=this,a=[],n=[];return t.forEach((function(r,s){a.push(r),(s+1)%e.showAmount===0?n.push(a.splice(0)):s+1===t.length&&n.push(a)})),n},setCurCity:function(t){this.currentCityData=t,this.curPage=0},setCurTown:function(t){this.currentTownData=t,this.curPage=0},setCurMode:function(t){this.curMode=t},setCurPage:function(t){this.curPage=t}},watch:{currentCityData:function(){this.currentTownData="全部"}}},Ut=jt,Rt=(0,g.Z)(Ut,o,c,!1,null,null,null),Bt=Rt.exports;n.Z.config.productionTip=!1,n.Z.prototype.$axios=s(),n.Z.use(i.Z,s()),new n.Z({render:function(t){return t(Bt)}}).$mount("#app")}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n](s,s.exports,a),s.loaded=!0,s.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,n,r,s){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],s=t[u][2];for(var o=!0,c=0;c<n.length;c++)(!1&s||i>=s)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(o=!1,s<i&&(i=s));if(o){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,r,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,s,i=n[0],o=n[1],c=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(c)var u=c(a)}for(e&&e(n);l<i.length;l++)s=i[l],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},n=self["webpackChunktask39"]=self["webpackChunktask39"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(1510)}));n=a.O(n)})();
//# sourceMappingURL=app-legacy.cd482e70.js.map