(function(){"use strict";var t={1510:function(t,e,a){var s=a(8935),r=a(6166),n=a.n(r),i=a(9483),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isLoadingPageShow?a("ModalPage"):t._e(),t._m(0),a("div",{staticClass:"container row mx-auto"},[a("main",{staticClass:"main"},[a("nav",{staticClass:"nav"},[a("div",{staticClass:"nav__selector"},[a("SelectItem",{attrs:{parentData:t.cityArr},on:{update:t.setCurCity}}),a("SelectItem",{attrs:{parentData:t.townArr},on:{update:t.setCurTown}})],1),a("div",{staticClass:"nav__mode"},[a("span",{staticClass:"nav__switchDesc"},[t._v("檢視模式 :")]),a("div",{staticClass:"nav__modeSwitch"},t._l(t.modeIcon,(function(e,s){return a("ModeBtn",{key:s,attrs:{"parent-icon":e,"parent-active":s===t.curMode,"parent-index":s},on:{update:t.setCurMode}})})),1)])]),0===t.curMode?a("ListComp",{attrs:{"parent-data":t.filterData[t.curPage]}}):1===t.curMode?a("TableComp",{attrs:{"parent-data":t.filterData[t.curPage],parentPage:t.curPage}}):a("CardComp",{attrs:{"parent-data":t.filterData[t.curPage]}}),a("PaginationComp",{attrs:{"parent-length":t.filterData.length,"parent-page":t.curPage},on:{update:t.setCurPage}})],1),t.isSideShow?a("SideBar",{attrs:{"parent-data":t.adData}}):t._e()],1),a("FooterComp")],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"hd"},[a("h1",{staticClass:"hd__title"},[t._v("農村地方美食小吃特色料理")])])}],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loadingPage"},[a("ModalContent")],1)},u=[],p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("img",{attrs:{src:"/loading.gif",alt:"loading"}}),a("p",[t._v("資料下載中...請稍後!")])])}],d={name:"ModalContent"},h=d,m=a(3736),f=(0,m.Z)(h,p,_,!1,null,"35ed9115",null),g=f.exports,C={name:"ModalPage",components:{ModalContent:g}},v=C,D=(0,m.Z)(v,c,u,!1,null,"3a8d950b",null),b=D.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{staticClass:"nav__select",domProps:{value:t.parentData},on:{change:function(e){return t.selectToUpdate(e)}}},t._l(t.parentData,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)},T=[],w={name:"SelectItem",props:{parentData:{type:Array}},methods:{selectToUpdate(t){this.$emit("update",t.target.value)}}},x=w,P=(0,m.Z)(x,y,T,!1,null,"7bfb35ab",null),k=P.exports,L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container mx-auto"},[a("h3",{staticClass:"footer__title"},[t._v("CMoney 全曜財經資訊")]),a("p",{staticClass:"footer__desc"},[t._v(" 資料來源 : "),a("span",{staticClass:"footer__info"},[t._v("政府資料開放平台")])])])])}],$={name:"FooterComp"},M=$,E=(0,m.Z)(M,L,S,!1,null,"d00e8df4",null),I=E.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"sideBar"},[t._l(t.parentData,(function(e,s){return[s===t.parentData.length-1?a("ImgAd",{key:s,attrs:{"parent-data":e,"parent-last":!0}}):a("ImgAd",{key:s,attrs:{parentData:e}})]}))],2)},O=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["file",{"file-sticky":t.parentLast}]},[a("img",{staticClass:"file__img",attrs:{src:t.pathStrMaker(t.parentData.url),alt:"google-pixel4"}})])},Z=[],U={name:"ImgAd",props:{parentData:{type:Object},parentLast:{type:Boolean,default:!1}},methods:{pathStrMaker(t){return`./${t}`}}},R=U,B=(0,m.Z)(R,j,Z,!1,null,"141fbe9e",null),H=B.exports,N={name:"SideBar",props:{parentData:{type:Array}},components:{ImgAd:H}},F=N,W=(0,m.Z)(F,A,O,!1,null,"04f0a8ac",null),G=W.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:["nav__switchBtn",{"nav__switchBtn--active ":t.parentActive}],on:{click:function(e){return t.clickSwitchMode()}}},[a("i",{class:t.parentIcon})])},z=[],J={name:"ModeBtn",props:{parentIcon:{type:String},parentActive:{type:Boolean,default:!1},parentIndex:{type:Number}},methods:{clickSwitchMode(){this.$emit("update",this.parentIndex)}}},K=J,Q=(0,m.Z)(K,q,z,!1,null,"3df2057e",null),V=Q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"pageList"},[a("p",{staticClass:"pageList__text"},[t._v(" 美食頁次 "),a("span",{staticClass:"pageList__number"},[t._v(" "+t._s(t.parentPage+1)+"/"+t._s(t.parentLength)+" ")])]),a("div",{staticClass:"pageList__content"},t._l(t.parentLength,(function(e,s){return a("button",{key:s,class:["pageList__btn",{"pageList__btn--active":s===t.parentPage}],attrs:{type:"button"},on:{click:function(e){return t.clickToUpdate(s)}}},[t._v(" "+t._s(e)+" ")])})),0)])},Y=[],tt={name:"PaginationComp",props:{parentLength:{type:Number},parentPage:{type:Number}},methods:{clickToUpdate(t){this.$emit("update",parseInt(t,10))}}},et=tt,at=(0,m.Z)(et,X,Y,!1,null,"53da475e",null),st=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},t._l(t.parentData,(function(t,e){return a("ListItem",{key:e,attrs:{parentData:t}})})),1)},nt=[],it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"res"},[a(t.setHtmlTag("a","div"),{tag:"component",class:t.setHtmlTag("res__link","res__content"),attrs:{href:t.setHtmlTag(t.parentData.Url,null),target:t.setHtmlTag(t.parentData.Url,null)}},[a("figure",{staticClass:"res__fig"},[a("img",{staticClass:"res__img",attrs:{src:t.parentData.PicURL,alt:t.parentData.Name,width:"400",height:"267"}})]),a("div",{staticClass:"res__text"},[a("h2",{staticClass:"res__title"},[t._v(t._s(t.parentData.Name))]),a("div",{staticClass:"res__info"},[a("p",{staticClass:"res__flag"},[t._v(t._s(t.parentData.City))]),a("p",{staticClass:"res__desc"},[t._v(t._s(t.parentData.Town))])]),a("p",{staticClass:"res__paragh"},[t._v(t._s(t.textLimit(t.parentData.FoodFeature)))])])])],1)},lt=[],ot={name:"ListItem",props:{parentData:{type:Object}},methods:{textLimit(t){let e="";return t.length>101?(e=`${t.substring(0,100)}...`,e):t},setHtmlTag(t,e){const a=""!==this.parentData.Url?t:e;return a}}},ct=ot,ut=(0,m.Z)(ct,it,lt,!1,null,null,null),pt=ut.exports,_t={name:"ListComp",components:{ListItem:pt},props:{parentData:{type:Array}}},dt=_t,ht=(0,m.Z)(dt,rt,nt,!1,null,null,null),mt=ht.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen grid"},t._l(t.parentData,(function(t,e){return a("CardItem",{key:e,attrs:{parentData:t}})})),1)},gt=[],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"grid__item"},[a(t.setHtmlTag("a","div"),{tag:"component",class:t.setHtmlTag("cardRes__link","cardRes__content"),attrs:{href:t.setHtmlTag(t.parentData.Url,null),target:t.setHtmlTag(t.parentData.Url,null)}},[a("figure",{staticClass:"cardRes"},[a("img",{staticClass:"cardRes__img",attrs:{src:t.parentData.PicURL,alt:t.parentData.Name,width:"400",height:"267"}}),a("figcaption",{staticClass:"cardRes__text"},[a("div",{staticClass:"cardRes__info"},[a("p",{staticClass:"cardRes__flag"},[t._v(t._s(t.parentData.City))]),a("p",{staticClass:"cardRes__desc cardRes__desc--italic"},[t._v(" "+t._s(t.parentData.Town)+" ")])]),a("h2",{staticClass:"cardRes__title"},[t._v(t._s(t.parentData.Name))]),a("p",{staticClass:"cardRes__paragh"},[t._v(t._s(t.textLimit(t.parentData.FoodFeature)))])])])])],1)},vt=[],Dt={name:"CardItem",props:{parentData:{type:Object}},methods:{textLimit(t){let e="";return t.length>50?(e=t.substring(0,49),e):t},setHtmlTag(t,e){const a=""!==this.parentData.Url?t:e;return a}}},bt=Dt,yt=(0,m.Z)(bt,Ct,vt,!1,null,null,null),Tt=yt.exports,wt={name:"CardComp",components:{CardItem:Tt},props:{parentData:{type:Array}}},xt=wt,Pt=(0,m.Z)(xt,ft,gt,!1,null,null,null),kt=Pt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen"},[a("div",{staticClass:"content"},[a("table",{staticClass:"resTable"},[t._m(0),a("tbody",{staticClass:"resTable__content"},t._l(t.parentData,(function(e,s){return a("tr",{key:e.ID,class:["resTable__row",{"resTable__row--stripe":s%2===0}]},[a("td",{staticClass:"resTable__td resTable__td--textRight resTable__td--textGrey"},[t._v(" "+t._s(10*t.parentPage+s+1)+" ")]),a("td",{staticClass:"resTable__td resTable__td--fixWidth resTable__td--textGrey"},[t._v(" "+t._s(e.City)+" ")]),a("td",{staticClass:"resTable__td resTable__td--minWidth resTable__td--textGrey"},[t._v(" "+t._s(e.Town)+" ")]),""!==e.Url?a("td",{staticClass:"resTable__td resTable__td--noWrap"},[a("a",{staticClass:"resTable__link",attrs:{href:e.Url,target:"_blank"}},[t._v(" "+t._s(e.Name)+" ")])]):a("td",{staticClass:"resTable__td resTable__td--noWrapt"},[t._v(" "+t._s(e.Name)+" ")]),a("td",{staticClass:"resTable__td resTable__td--text",attrs:{title:e.Address}},[t._v(" "+t._s(t.textLimit(e.Address))+" ")])])})),0)])])])},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"resTable__hd"},[a("tr",{staticClass:"resTable__title"},[a("th",{staticClass:"resTable__th"},[t._v("編號")]),a("th",{staticClass:"resTable__th"},[t._v("行政區域")]),a("th",{staticClass:"resTable__th"},[t._v("鄉鎮區")]),a("th",{staticClass:"resTable__th"},[t._v("商家")]),a("th",{staticClass:"resTable__th"},[t._v("地址")])])])}],$t={name:"TableComp",props:{parentData:{type:Array},parentPage:{type:Number}},methods:{textLimit(t){let e="";return t.length>20?(e=`${t.substring(0,19)}...`,e):t}}},Mt=$t,Et=(0,m.Z)(Mt,Lt,St,!1,null,"4c995b82",null),It=Et.exports,At={name:"App",components:{ModalPage:b,SelectItem:k,FooterComp:I,SideBar:G,ModeBtn:V,PaginationComp:st,ListComp:mt,CardComp:kt,TableComp:It},data(){return{jsonData:[],adData:[{url:"adv1.png",alt:"google-pixel4"},{url:"adv2.png",alt:"飆股狙擊室"},{url:"adv3.png",alt:"森聯摩天41"}],currentCityData:"全部",currentTownData:"全部",curMode:0,curPage:0,isSideShow:!1,isLoadingPageShow:!0,showAmount:10,modeIcon:["fa-solid fa-list","fa-solid fa-align-justify","fa-solid fa-border-all"]}},async created(){await this.fetchData(),this.isLoadingPageShow=!1},mounted(){window.innerWidth>414&&(this.isSideShow=!0)},computed:{filterData(){let t=[];return t="全部"!==this.currentCityData&&"全部"!==this.currentTownData?this.jsonData.filter((t=>t.City===this.currentCityData&&t.Town===this.currentTownData)):"全部"!==this.currentCityData?this.jsonData.filter((t=>t.City===this.currentCityData)):this.jsonData,this.paginatedData(t)},cityArr(){let t=[];return t=this.jsonData.map((t=>t.City)),t.unshift("全部"),[...new Set(t)]},townArr(){let t=[];return t=this.jsonData.filter((t=>t.City===this.currentCityData)).map((t=>t.Town)),t.unshift("全部"),[...new Set(t)]}},methods:{async fetchData(){const t="https://data.coa.gov.tw/Service/OpenData/ODwsv/ODwsvTravelFood.aspx";try{const e=await this.$http.get(t);this.jsonData=e.data}catch(e){console.log(e.message)}},paginatedData(t){const e=[],a=[];return t.forEach(((s,r)=>{e.push(s),(r+1)%this.showAmount===0?a.push(e.splice(0)):r+1===t.length&&a.push(e)})),a},setCurCity(t){this.currentCityData=t,this.curPage=0},setCurTown(t){this.currentTownData=t,this.curPage=0},setCurMode(t){this.curMode=t},setCurPage(t){this.curPage=t}},watch:{currentCityData(){this.currentTownData="全部"}}},Ot=At,jt=(0,m.Z)(Ot,l,o,!1,null,null,null),Zt=jt.exports;s.Z.config.productionTip=!1,s.Z.prototype.$axios=n(),s.Z.use(i.Z,n()),new s.Z({render:t=>t(Zt)}).$mount("#app")}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={id:s,loaded:!1,exports:{}};return t[s](n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,r,n){if(!s){var i=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],n=t[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[o])}))?s.splice(o--,1):(l=!1,n<i&&(i=n));if(l){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,r,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,n,i=s[0],l=s[1],o=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(o)var u=o(a)}for(e&&e(s);c<i.length;c++)n=i[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunktask39"]=self["webpackChunktask39"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(1510)}));s=a.O(s)})();
//# sourceMappingURL=app.bec376f5.js.map